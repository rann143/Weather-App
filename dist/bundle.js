(()=>{"use strict";async function e(e,t){if(Number(t),String(e),t<0||t>3)return alert("Must be a 3-day forecast, maximum");try{let o=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=6ec50ea541c74813b6d174204240803&q=${e}&days=${t}`);if(!o.ok)throw new Error("Network response was not ok");let n=await o.json();return{name:n.location.name,region:n.location.region,country:n.location.country,dateDay1:n.forecast.forecastday[0].date,tempFDay1:n.forecast.forecastday[0].day.maxtemp_f,tempCDay1:n.forecast.forecastday[0].day.maxtemp_c,conditionDay1:n.forecast.forecastday[0].day.condition.text,sunsetDay1:n.forecast.forecastday[0].astro.sunset,hour24Day1:n.forecast.forecastday[0].hour,dateDay2:n.forecast.forecastday[1].date,tempFDay2:n.forecast.forecastday[1].day.maxtemp_f,tempCDay2:n.forecast.forecastday[1].day.maxtemp_c,conditionDay2:n.forecast.forecastday[1].day.condition.text,sunsetDay2:n.forecast.forecastday[1].astro.sunset,hour24Day2:n.forecast.forecastday[1].hour,dateDay3:n.forecast.forecastday[2].date,tempFDay3:n.forecast.forecastday[2].day.maxtemp_f,tempCDay3:n.forecast.forecastday[2].day.maxtemp_c,conditionDay3:n.forecast.forecastday[2].day.condition.text,sunsetDay3:n.forecast.forecastday[2].astro.sunset,hour24Day3:n.forecast.forecastday[2].hour}}catch(e){throw console.error("there was an error with the fetch operation:",e),e}}!function(){const t=document.querySelector("#location-input"),o=document.querySelector("#search-btn"),n=document.querySelector("h2"),a=document.querySelector("#temp-btn"),c=document.querySelector("#current-time"),r=document.querySelector("#current-temp"),d=document.querySelector("#current-weather"),s=document.querySelector("#current-sunset"),l=document.querySelector(".loading"),i=document.querySelector("#current-24hour");let m;function u(){return t.value}a.textContent="°F";let y=!0;console.log(y),a.addEventListener("click",(e=>{y=!y,console.log(y),a.textContent=y?"°F":"°C",function(){for(;i.firstChild;)i.removeChild(i.firstChild);!0===y?(r.textContent=`${m.tempFDay1} °F`,m.hour24Day1.forEach((e=>{console.log(`${e.time}, ${e.temp_f}°F`);let t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");o.textContent=`${e.time.slice(-5)}`,n.textContent=`${e.temp_f}°F`,t.appendChild(o),t.appendChild(n),i.appendChild(t)}))):(r.textContent=`${m.tempCDay1} °C`,m.hour24Day1.forEach((e=>{console.log(`${e.time}, ${e.temp_c}°C`);let t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");o.textContent=`${e.time.slice(-5)}`,n.textContent=`${e.temp_c}°C`,t.appendChild(o),t.appendChild(n),i.appendChild(t)})))}()})),o.addEventListener("click",(t=>{if(t.preventDefault(),""===u())return l.textContent="Enter a location",l.textContent;for(n.textContent="",l.textContent="Loading...";i.firstChild;)i.removeChild(i.firstChild);return e(u(),3).then((e=>{n.textContent=`${e.name}, ${e.region}, ${e.country}`,c.textContent=e.dateDay1,!0===y?(r.textContent=`${e.tempFDay1} °F`,e.hour24Day1.forEach((e=>{console.log(`${e.time}, ${e.temp_f}°F`);let t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");o.textContent=`${e.time.slice(-5)}`,n.textContent=`${e.temp_f}°F`,t.appendChild(o),t.appendChild(n),i.appendChild(t)}))):(r.textContent=`${e.tempCDay1} °C`,e.hour24Day1.forEach((e=>{console.log(`${e.time}, ${e.temp_c}°C`);let t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div");o.textContent=`${e.time.slice(-5)}`,n.textContent=`${e.temp_c}°C`,t.appendChild(o),t.appendChild(n),i.appendChild(t)}))),d.textContent=e.conditionDay1,s.textContent=e.sunsetDay1,l.textContent="",m=e,console.log(m.name)})).catch((e=>{console.log(e),c.textContent="",r.textContent="",d.textContent="",s.textContent="",l.textContent="Couldn't find location"})),m}))}(),e("Boston",3).then((e=>{console.log("Guess What's Comming!"),console.log(e),console.log(`${e.name}, ${e.region}, ${e.country}`),console.log(e.tempFDay1),console.log(e.dateDay1)}));const t=document.querySelector("body");fetch("https://api.giphy.com/v1/gifs/translate?api_key=DQzLlyYAdHOpDOcKi4YUH5xjz7dMJ9Vs&s=weather",{mode:"cors"}).then((e=>e.json())).then((e=>{t.style.backgroundImage=`url(${e.data.images.original.url})`,console.log(e.data)})).catch((e=>{console.log(e)})),e("New York",3).then((e=>{let t=e.hour24Day1;console.log(e.hour24Day1),t.forEach((e=>{console.log(`${e.time}, ${e.temp_f}°F`)}))}))})();